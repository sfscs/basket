<div ng-controller="ListCtrl" class="container container-list-container">
	<select class="form-control" ng-model="selectedList" ng-change="changeList(selectedList)" ng-options="list.name for list in shoppingLists | userHasAccess:currentUser"></select>
	<ul class="list-unstyled">
		<li class="panel panel-default panel-list-item" ng-repeat="item in shoppingItems | itemInList:selectedList.id" >
			<div class="panel-body">
				<div>Owner ID: {{item.owner_id}} List ID: {{item.list_id}}</div>
				<span>{{item.name}}</span> 
				<div class="pull-right">
					<a href="" ng-click="removeShoppingItem(item.id)">remove</a>
				</div>
				<div class="pull-right">
					{{item.added_date | date:'medium'}}
				</div>
				<div class="comment-blocks" ng-model="comments">
					<div class="">Comments ({{filteredComments.length}})</div>
					<div class="comment-block" ng-model="comments" ng-repeat="comment in filteredComments = (comments | commentForItem:item.id)">
						{{comment.comment}} - 
					</div>
				</div>
			</div>
		</li>
	</ul>
	<form ng-submit="addShoppingItem()">
		<input type="text" ng-model="enteredShoppingItem">
		<input type="submit" value="add">
	</form>
	<br>

</div>